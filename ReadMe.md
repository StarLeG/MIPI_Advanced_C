# Учебный проект: C-приложения и игра "Двойная Змейка"
### Описание проекта
Проект представляет собой набор учебных C-приложений для изучения различных аспектов программирования на языке C, включая работу с битами, массивами, структурами данных, а также продвинутую игру "Двойная Змейка" с использованием библиотеки ncurses.

### Структура проекта
```text
├── apps/
│   ├── Test_A/           # Серия учебных программ (A00-A10)
│   │   ├── A00/          # Подсчет максимумов в последовательности
│   │   ├── A01/          # Шифр Цезаря
│   │   ├── A02/          # Циклический сдвиг битов
│   │   ├── A03/          # Извлечение младших битов
│   │   ├── A04/          # Поиск максимальной последовательности битов
│   │   ├── A05/          # Подсчет единичных битов
│   │   ├── A06/          # Инверсия старшего байта
│   │   ├── A07/          # Поиск непарного числа (XOR)
│   │   ├── A08/          # Задача о весах (тернарная система)
│   │   ├── A09/          # Упаковка массива в структуру
│   │   └── A10/          # Извлечение экспоненты из float
│   ├── Test_B/           # Задачи со структурами данных
│   │   ├── B00/          # Максимальный блок памяти (связанный список)
│   │   └── B01/          # Подсчет общей используемой памяти
│   └── snake/            # Игра "Двойная Змейка"
├── build/                # Директория для сборки
├── CMakeLists.txt        # Основной файл сборки CMake
├── Build.sh              # Скрипт автоматической сборки
├── Run.sh                # Скрипт запуска приложений
└── ReadMe.md            # Документация
```
## Особенности игры "Двойная Змейка"
### Основные возможности:
Два игрока одновременно - управление двумя змейками в одном игровом поле

Цветная графика - каждая змейка имеет настраиваемый цвет (7 цветов на выбор)

Звуковые эффекты - реализованы системные звуки для различных событий

Поддержка разных раскладок - WASD работает в английской и русской раскладках

### Новые игровые механики:
Возможность поедания другой змейки (+50 очков)

Возможность откусывания хвоста (+20 очков)

Самостоятельная логика коллизий (стены, самопересечение)

Динамическая генерация еды в свободных клетках

### Архитектура игры:
```text
snake/
├── inc/                  # Заголовочные файлы
│   ├── game_types.h     # Структуры данных и константы
│   ├── game_logic.h     # Прототипы игровой логики
│   ├── graphics.h       # Прототипы функций отрисовки
│   ├── menu_logic.h     # Прототипы меню
│   └── sound.h          # Прототипы звуковых функций
├── src/                 # Исходные файлы
│   ├── main.c          # Инициализация и главный цикл
│   ├── game_logic.c    # Движение, коллизии, еда
│   ├── graphics.c      # Отрисовка змеек и интерфейса
│   ├── menu_logic.c    # Меню и игровой процесс
│   └── sound.c         # Звуковые эффекты
└── CMakeLists.txt      # Файл сборки для игры
```
## Требования к инструментам
### Основные инструменты:
1. WSL (Windows Subsystem for Linux) - рекомендуется Ubuntu 20.04/22.04 или Debian

2. Visual Studio Code с поддержкой удаленной разработки

3. Компилятор C и система сборки:

- GCC/G++ компилятор (версия 9.0 или выше)

- CMake (версия 3.22 или выше)

- Make

- Библиотека ncurses

## Установка инструментов
Шаг 1: Установка WSL (для пользователей Windows)
```powershell
# Откройте PowerShell от имени администратора и выполните:
wsl --install

# Или для конкретного дистрибутива:
wsl --install -d Ubuntu-22.04
```
Шаг 2: Установка необходимых пакетов в Linux/WSL
```bash
# Обновление списка пакетов
sudo apt update && sudo apt upgrade -y

# Установка компилятора и утилит сборки
sudo apt install -y build-essential gcc g++ cmake make

# Установка библиотеки ncurses (обязательно для игры "Змейка")
sudo apt install -y libncurses5-dev libncursesw5-dev

# Дополнительные инструменты для разработки
sudo apt install -y git gdb valgrind
```
Шаг 3: Установка Visual Studio Code
Скачайте и установите VS Code с официального сайта: https://code.visualstudio.com/

Установите расширения:

- "Remote - WSL" (для работы с WSL)

- "C/C++" (Microsoft)

- "CMake Tools"

- "GitLens"

Шаг 4: Настройка проекта в VS Code
Откройте VS Code

Нажмите F1 и выберите "Remote-WSL: New Window"

Клонируйте или откройте папку проекта в WSL

VS Code автоматически предложит установить необходимые расширения

## Сборка проекта
Автоматическая сборка (рекомендуется)
```bash
# Дайте права на выполнение скрипта
chmod +x Build.sh

# Запустите скрипт сборки
./Build.sh

# Скрипт автоматически:
# 1. Создаст директорию build
# 2. Сгенерирует файлы сборки через CMake
# 3. Скомпилирует все приложения
# 4. Выведет отчет о сборке
```
Ручная сборка с подробным выводом
```bash
# Создание директории для сборки
mkdir -p build && cd build

# Генерация файлов сборки с подробным выводом
cmake .. -DCMAKE_BUILD_TYPE=Debug

# Компиляция проекта с отображением команд
make VERBOSE=1

# Или сборка с максимальной оптимизацией
cmake .. -DCMAKE_BUILD_TYPE=Release
make
```
Сборка конкретных компонентов
```bash
cd build

# Только игра "Двойная Змейка"
make snake

# Только тестовые приложения Test_A
make test_A00 test_A01 test_A02

# Только тестовые приложения Test_B
make test_B00 test_B01

# Очистка сборки конкретной цели
make clean

# Полная пересборка
rm -rf * && cmake .. && make
```
### Запуск приложений
Автоматический запуск
```bash
# Дайте права на выполнение скрипта
chmod +x Run.sh

# Запустите скрипт (по умолчанию запускает игру "Двойная Змейка")
./Run.sh
```
Ручной запуск приложений
```bash
# Запуск игры "Двойная Змейка"
./build/apps/snake/snake

# Запуск тестовых приложений Test_A
./build/apps/Test_A/A00/test_A00
./build/apps/Test_A/A01/test_A01
./build/apps/Test_A/A02/test_A02
# ... и так далее для других приложений A03-A10

# Запуск тестовых приложений Test_B
./build/apps/Test_B/B00/test_B00
./build/apps/Test_B/B01/test_B01
```
## Управление в игре "Двойная Змейка"
### Главное меню:
Стрелки вверх/вниз - Навигация по меню

Стрелки влево/вправо - Выбор цвета для текущей змейки

TAB - Переключение между змейками (1 и 2)

ENTER - Выбор опции

M - Включить/выключить звук

Q или F10 - Выход из игры

### Игровой процесс:
Змейка 1 - Клавиши со стрелками (← ↑ → ↓)

Змейка 2 - WASD (работает в английской и русской раскладках)

W/Ц - Вверх

A/Ф - Влево

S/Ы - Вниз

D/В - Вправо

M - Включить/выключить звук во время игры

F10 - Выход из игры

### Особенности игрового процесса:
Система очков:
Съесть еду: +10 очков

Съесть другую змейку: +50 очков

Откусить хвост: +20 очков

### Механика смерти:
Столкновение со стеной

Самопересечение (через 4 сегмента хвоста)

Поедание другой змейкой

### Оптимизация производительности:
Контроль FPS (целевые 10 кадров в секунду)

Неблокирующий ввод

Эффективная перерисовка

## Описание учебных приложений Test_A
`Test_A00`: Подсчет максимумов

Задача: Найти сколько раз встречается максимальное число в последовательности

Особенность: Запрещено использование массивов

Формат ввода: N (количество чисел), затем N чисел

Формат вывода: Количество максимумов

`Test_A01`: Шифр Цезаря

Задача: Реализовать шифр Цезаря для латинских букв

Особенности: Поддержка заглавных и строчных букв, пробелы без изменений

Формат ввода: Сдвиг N, затем текст, оканчивающийся точкой

Формат вывода: Зашифрованный текст

`Test_A02`: Циклический сдвиг битов

Задача: Циклически сдвинуть 32-битное число вправо на K бит

Особенность: K от 1 до 31

Пример: 0b1001 сдвиг на 2 → 0b0110

Test_A03: Извлечение младших битов
Задача: Взять K младших битов из 32-битного числа

Особенность: K от 1 до 31

Пример: Число 13 (0b1101), K=3 → результат 5 (0b101)

`Test_A04`: Поиск максимальной последовательности битов

Задача: Найти K подряд идущих битов, образующих максимальное число

Особенность: Поиск по всем возможным позициям

Пример: Число 0b101101, K=3 → максимум 5 (0b101)

`Test_A05`: Подсчет единичных битов

Задача: Подсчитать количество единиц в двоичном представлении числа

Метод: Поразрядная проверка через маску

`Test_A06`: Инверсия старшего байта
Задача: Инвертировать биты старшего байта 32-битного числа

Метод: Использование XOR с маской 0xFF000000

`Test_A07`: Поиск непарного числа
Задача: Найти число, встречающееся один раз в массиве, где все остальные встречаются дважды

Метод: Использование свойства XOR: a ^ a = 0, a ^ 0 = a

`Test_A08`: Задача о весах (тернарная система)
Задача: Определить минимальное количество гирь для взвешивания товара

Особенность: Гири массой 1, 3, 9, 27,... грамм (степени 3)

Метод: Представление веса в сбалансированной троичной системе

`Test_A09`: Упаковка массива в структуру
Задача: Упаковать массив из 32 бит в структуру с полями:

array: упакованные биты

count0: количество нулей

count1: количество единиц

`Test_A10`: Извлечение экспоненты из float
Задача: Извлечь значение экспоненты из числа типа float

Метод: Работа с битовым представлением IEEE 754

## Описание учебных приложений Test_B
`Test_B00`: Максимальный блок памяти
Задача: Найти адрес блока памяти максимального размера в связанном списке

Структура данных: Односвязный список с полями:

address: адрес блока

size: размер блока

comment: комментарий

next: указатель на следующий элемент

Алгоритм: Линейный поиск с сохранением максимума

`Test_B01`: Подсчет общей используемой памяти
Задача: Вычислить общий объем памяти, используемой всеми блоками в списке

Структура данных: Аналогично Test_B00

Алгоритм: Суммирование полей size всех элементов списка